[gd_scene load_steps=14 format=4 uid="uid://w8rof17oksa5"]

[ext_resource type="Script" uid="uid://b85p0pwlulvwk" path="res://Scripts/buildingInterior.gd" id="1_iqtyj"]
[ext_resource type="PackedScene" uid="uid://i07sdevhcge6" path="res://Scenes/tilemap.tscn" id="1_okrnj"]
[ext_resource type="Texture2D" uid="uid://eqoymnkrs6g6" path="res://assets/Farm/House_interior.png" id="2_n87ef"]
[ext_resource type="PackedScene" uid="uid://dxfle2k15hmmm" path="res://Scenes/player.tscn" id="3_3jr7h"]
[ext_resource type="Script" uid="uid://chfqwjj80xmy7" path="res://Scenes/bed.gd" id="4_xi0mm"]
[ext_resource type="PackedScene" uid="uid://cx2eln1oswqgk" path="res://Scenes/hud.tscn" id="5_bu6dc"]
[ext_resource type="PackedScene" uid="uid://q73ievm14tf7" path="res://Scenes/night.tscn" id="7_l3jqw"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_iqtyj"]
size = Vector2(36.666668, 7.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xi0mm"]
size = Vector2(35, 31.666676)

[sub_resource type="Animation" id="Animation_7ug6d"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sleep/ColorRect:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_gau5j"]
resource_name = "darken"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sleep/ColorRect:color")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.8, 2.5, 3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(0, 0, 0, 0), Color(0, 0, 0, 0.8), Color(0, 0, 0, 0.70000005), Color(0, 0, 0, 1)]
}

[sub_resource type="Animation" id="Animation_l3jqw"]
resource_name = "lighten"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sleep/ColorRect:color")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.8, 2.5, 3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(0, 0, 0, 1), Color(0, 0, 0, 0.2), Color(0, 0, 0, 0.3), Color(0, 0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_lmwq5"]
_data = {
&"RESET": SubResource("Animation_7ug6d"),
&"darken": SubResource("Animation_gau5j"),
&"lighten": SubResource("Animation_l3jqw")
}

[node name="House" type="Node2D"]
script = ExtResource("1_iqtyj")

[node name="Control" type="Control" parent="."]
clip_contents = true
layout_mode = 3
anchors_preset = 0
offset_left = -111.0
offset_top = -101.0
offset_right = 207.0
offset_bottom = 110.0

[node name="Ground" parent="Control" instance=ExtResource("1_okrnj")]
position = Vector2(111, 101)
tile_map_data = PackedByteArray("AAD8//z/BQAGAAQAAAD8//3/BQAFAAEAAAD8//7/BQAFAAAAAAD8////BQAFAAAAAAD8/wAABQAGAAQAAAD8/wEABQAGAAQAAAD8/wIABQAEAAQAAAD8/wMABQAGAAQAAAD9//z/BQAFAAEAAAD9//3/BQAFAAEAAAD9//7/BQAFAAMAAAD9////BQAGAAQAAAD9/wAABQAEAAQAAAD9/wEABQAFAAEAAAD9/wIABQAFAAEAAAD9/wMABQAFAAIAAAD+//z/BQAFAAQAAAD+//3/BQAFAAMAAAD+//7/BQAFAAIAAAD+////BQAGAAQAAAD+/wAABQAFAAQAAAD+/wEABQAEAAQAAAD+/wIABQAFAAIAAAD+/wMABQAFAAMAAAD///z/BQAFAAEAAAD///3/BQAFAAAAAAD///7/BQAFAAQAAAD/////BQAEAAQAAAD//wAABQAGAAQAAAD//wEABQAEAAQAAAD//wIABQAFAAEAAAD//wMABQAFAAMAAAAAAPz/BQAGAAQAAAAAAP3/BQAFAAEAAAAAAP7/BQAFAAMAAAAAAP//BQAEAAQAAAAAAAAABQAFAAAAAAAAAAEABQAFAAMAAAAAAAIABQAFAAIAAAAAAAMABQAEAAQAAAABAPz/BQAEAAQAAAABAP3/BQAGAAQAAAABAP7/BQAFAAEAAAABAP//BQAFAAMAAAABAAAABQAFAAEAAAABAAEABQAFAAQAAAABAAIABQAFAAIAAAABAAMABQAFAAEAAAACAPz/BQAFAAAAAAACAP3/BQAFAAAAAAACAP7/BQAFAAQAAAACAP//BQAFAAMAAAACAAAABQAFAAEAAAACAAEABQAFAAEAAAACAAIABQAGAAQAAAACAAMABQAEAAQAAAADAPz/BQAGAAQAAAADAP3/BQAFAAAAAAADAP7/BQAFAAMAAAADAP//BQAEAAQAAAADAAAABQAGAAQAAAADAAEABQAFAAEAAAADAAIABQAFAAMAAAADAAMABQAFAAEAAAD5//r/BQAGAAQAAAD5//v/BQAEAAQAAAD5//z/BQAFAAQAAAD5//3/BQAFAAIAAAD5//7/BQAFAAMAAAD5////BQAFAAAAAAD5/wAABQAFAAIAAAD5/wEABQAGAAQAAAD5/wIABQAFAAMAAAD5/wMABQAFAAAAAAD5/wQABQAFAAEAAAD5/wUABQAFAAEAAAD5/wYABQAFAAMAAAD6//r/BQAGAAQAAAD6//v/BQAGAAQAAAD6//z/BQAEAAQAAAD6//3/BQAFAAEAAAD6//7/BQAFAAIAAAD6////BQAFAAIAAAD6/wAABQAFAAMAAAD6/wEABQAGAAQAAAD6/wIABQAFAAQAAAD6/wMABQAFAAIAAAD6/wQABQAFAAQAAAD6/wUABQAGAAQAAAD6/wYABQAFAAQAAAD7//r/BQAFAAEAAAD7//v/BQAFAAEAAAD7//z/BQAFAAQAAAD7//3/BQAFAAEAAAD7//7/BQAFAAAAAAD7////BQAFAAIAAAD7/wAABQAFAAAAAAD7/wEABQAFAAEAAAD7/wIABQAGAAQAAAD7/wMABQAEAAQAAAD7/wQABQAFAAEAAAD7/wUABQAFAAIAAAD7/wYABQAFAAEAAAD8//r/BQAFAAEAAAD8//v/BQAFAAMAAAD8/wQABQAGAAQAAAD8/wUABQAFAAQAAAD8/wYABQAFAAIAAAD9//r/BQAFAAAAAAD9//v/BQAFAAAAAAD9/wQABQAEAAQAAAD9/wUABQAFAAEAAAD9/wYABQAEAAQAAAD+//r/BQAGAAQAAAD+//v/BQAFAAEAAAD+/wQABQAFAAQAAAD+/wUABQAEAAQAAAD+/wYABQAGAAQAAAD///r/BQAFAAIAAAD///v/BQAEAAQAAAD//wQABQAFAAAAAAD//wUABQAFAAQAAAD//wYABQAFAAMAAAAAAPr/BQAFAAMAAAAAAPv/BQAGAAQAAAAAAAQABQAFAAAAAAAAAAUABQAEAAQAAAAAAAYABQAFAAMAAAABAPr/BQAFAAIAAAABAPv/BQAGAAQAAAABAAQABQAFAAEAAAABAAUABQAFAAIAAAABAAYABQAEAAQAAAACAPr/BQAGAAQAAAACAPv/BQAFAAQAAAACAAQABQAFAAIAAAACAAUABQAFAAIAAAACAAYABQAFAAIAAAADAPr/BQAFAAMAAAADAPv/BQAFAAIAAAADAAQABQAFAAAAAAADAAUABQAEAAQAAAADAAYABQAFAAEAAAAEAPr/BQAEAAQAAAAEAPv/BQAGAAQAAAAEAPz/BQAFAAAAAAAEAP3/BQAFAAEAAAAEAP7/BQAFAAQAAAAEAP//BQAFAAAAAAAEAAAABQAFAAMAAAAEAAEABQAGAAQAAAAEAAIABQAFAAMAAAAEAAMABQAFAAIAAAAEAAQABQAFAAAAAAAEAAUABQAFAAEAAAAEAAYABQAFAAMAAAAFAPr/BQAEAAQAAAAFAPv/BQAEAAQAAAAFAPz/BQAFAAMAAAAFAP3/BQAFAAEAAAAFAP7/BQAFAAAAAAAFAP//BQAFAAIAAAAFAAAABQAFAAAAAAAFAAEABQAFAAIAAAAFAAIABQAFAAMAAAAFAAMABQAFAAAAAAAFAAQABQAFAAIAAAAFAAUABQAFAAAAAAAFAAYABQAFAAEAAAD5//n/BQAFAAMAAAD6//n/BQAEAAQAAAD7//n/BQAGAAQAAAD8//n/BQAFAAQAAAD9//n/BQAEAAQAAAD+//n/BQAEAAQAAAD///n/BQAFAAMAAAAAAPn/BQAFAAMAAAABAPn/BQAFAAIAAAACAPn/BQAEAAQAAAADAPn/BQAFAAAAAAAEAPn/BQAFAAAAAAAFAPn/BQAGAAQAAAAGAPn/BQAFAAMAAAAGAPr/BQAFAAAAAAAGAPv/BQAGAAQAAAAGAPz/BQAFAAAAAAAGAP3/BQAFAAMAAAAGAP7/BQAFAAQAAAAGAP//BQAFAAMAAAAGAAAABQAFAAAAAAAGAAEABQAFAAMAAAAGAAIABQAFAAEAAAAGAAMABQAFAAEAAAAGAAQABQAFAAEAAAAGAAUABQAFAAQAAAAGAAYABQAFAAQAAAAHAPn/BQAFAAAAAAAHAPr/BQAFAAIAAAAHAPv/BQAFAAMAAAAHAPz/BQAFAAEAAAAHAP3/BQAGAAQAAAAHAP7/BQAFAAEAAAAHAP//BQAFAAMAAAAHAAAABQAFAAMAAAAHAAEABQAFAAIAAAAHAAIABQAFAAQAAAAHAAMABQAEAAQAAAAHAAQABQAFAAMAAAAHAAUABQAEAAQAAAAHAAYABQAFAAMAAAAIAPn/BQAFAAMAAAAIAPr/BQAFAAAAAAAIAPv/BQAGAAQAAAAIAPz/BQAFAAAAAAAIAP3/BQAFAAAAAAAIAP7/BQAGAAQAAAAIAP//BQAFAAAAAAAIAAAABQAFAAQAAAAIAAEABQAEAAQAAAAIAAIABQAFAAEAAAAIAAMABQAEAAQAAAAIAAQABQAFAAAAAAAIAAUABQAFAAIAAAAIAAYABQAFAAEAAAAJAPn/BQAGAAQAAAAJAPr/BQAFAAAAAAAJAPv/BQAGAAQAAAAJAPz/BQAFAAAAAAAJAP3/BQAFAAEAAAAJAP7/BQAFAAAAAAAJAP//BQAFAAIAAAAJAAAABQAFAAMAAAAJAAEABQAFAAMAAAAJAAIABQAFAAMAAAAJAAMABQAEAAQAAAAJAAQABQAGAAQAAAAJAAUABQAEAAQAAAAJAAYABQAFAAIAAAAKAPn/BQAFAAEAAAAKAPr/BQAFAAQAAAAKAPv/BQAFAAEAAAAKAPz/BQAEAAQAAAAKAP3/BQAFAAEAAAAKAP7/BQAFAAIAAAAKAP//BQAFAAEAAAAKAAAABQAFAAAAAAAKAAEABQAGAAQAAAAKAAIABQAEAAQAAAAKAAMABQAEAAQAAAAKAAQABQAFAAQAAAAKAAUABQAFAAIAAAAKAAYABQAEAAQAAAALAPn/BQAFAAQAAAALAPr/BQAEAAQAAAALAPv/BQAFAAIAAAALAPz/BQAEAAQAAAALAP3/BQAFAAAAAAALAP7/BQAFAAIAAAALAP//BQAFAAEAAAALAAAABQAFAAAAAAALAAEABQAFAAAAAAALAAIABQAGAAQAAAALAAMABQAFAAMAAAALAAQABQAGAAQAAAALAAUABQAFAAIAAAALAAYABQAFAAAAAAAMAPn/BQAGAAQAAAAMAPr/BQAGAAQAAAAMAPv/BQAFAAQAAAAMAPz/BQAFAAAAAAAMAP3/BQAEAAQAAAAMAP7/BQAEAAQAAAAMAP//BQAEAAQAAAAMAAAABQAFAAIAAAAMAAEABQAGAAQAAAAMAAIABQAEAAQAAAAMAAMABQAEAAQAAAAMAAQABQAGAAQAAAAMAAUABQAEAAQAAAAMAAYABQAFAAMAAAA=")

[node name="Ground2" parent="." instance=ExtResource("1_okrnj")]
tile_map_data = PackedByteArray("AAD5//f/BQADAAAAAAD5//j/BQADAAEAAAD5//n/BQADAAIAAAD6//f/BQAAAAUAAAD6//j/BQAAAAYAAAD6//n/BQAAAAcAAAD7//f/BQAAAAUAAAD7//j/BQAAAAYAAAD7//n/BQAAAAcAAAD8//f/BQAAAAUAAAD8//j/BQAAAAYAAAD8//n/BQAAAAcAAAD9//f/BQAAAAUAAAD9//j/BQAAAAYAAAD9//n/BQAAAAcAAAD+//f/BQAAAAUAAAD+//j/BQAAAAYAAAD+//n/BQAAAAcAAAD///f/BQAAAAUAAAD///j/BQAAAAYAAAD///n/BQAAAAcAAAAAAPf/BQAAAAUAAAAAAPj/BQAAAAYAAAAAAPn/BQAAAAcAAAABAPf/BQAAAAUAAAABAPj/BQAAAAYAAAABAPn/BQAAAAcAAAACAPf/BQAAAAUAAAACAPj/BQAAAAYAAAACAPn/BQAAAAcAAAADAPf/BQAAAAUAAAADAPj/BQAAAAYAAAADAPn/BQAAAAcAAAAEAPf/BQAAAAUAAAAEAPj/BQAAAAYAAAAEAPn/BQAAAAcAAAAFAPf/BQAAAAUAAAAFAPj/BQAAAAYAAAAFAPn/BQAAAAcAAAAGAPf/BQAAAAUAAAAGAPj/BQAAAAYAAAAGAPn/BQAAAAcAAAAHAPf/BQAAAAUAAAAHAPj/BQAAAAYAAAAHAPn/BQAAAAcAAAAIAPf/BQAAAAUAAAAIAPj/BQAAAAYAAAAIAPn/BQAAAAcAAAAJAPf/BQAAAAUAAAAJAPj/BQAAAAYAAAAJAPn/BQAAAAcAAAAKAPf/BQAAAAUAAAAKAPj/BQAAAAYAAAAKAPn/BQAAAAcAAAALAPf/BQAAAAUAAAALAPj/BQAAAAYAAAALAPn/BQAAAAcAAAAMAPf/BQAEAAAAAAAMAPj/BQAEAAEAAAAMAPn/BQAEAAIAAAAMAPr/BQAAAAEAAAAMAPv/BQAAAAEAAAAMAPz/BQAAAAEAAAAMAP3/BQAAAAEAAAAMAP7/BQAAAAEAAAAMAP//BQAAAAEAAAAMAAAABQAAAAEAAAAMAAEABQAAAAEAAAAMAAIABQAAAAEAAAAMAAMABQAAAAEAAAD5//r/BQACAAEAAAD5//v/BQACAAEAAAD5//z/BQACAAEAAAD5//3/BQACAAEAAAD5////BQACAAEAAAD5/wAABQACAAEAAAD5//7/BQACAAEAAAD5/wEABQACAAEAAAD5/wIABQACAAEAAAD5/wMABQACAAEAAAA=")

[node name="Ground3" parent="." instance=ExtResource("1_okrnj")]
z_index = 1
tile_map_data = PackedByteArray("AAAMAAQABQABAAUAAAAMAAUABQABAAYAAAAMAAYABQABAAcAAAALAAQABQABAAUAAAALAAUABQABAAYAAAALAAYABQABAAcAAAAKAAQABQABAAUAAAAKAAUABQABAAYAAAAKAAYABQABAAcAAAAJAAQABQABAAUAAAAJAAUABQABAAYAAAAJAAYABQABAAcAAAAIAAQABQABAAUAAAAIAAUABQABAAYAAAAIAAYABQABAAcAAAAHAAQABQABAAUAAAAHAAUABQABAAYAAAAHAAYABQABAAcAAAAGAAQABQABAAUAAAAGAAUABQABAAYAAAAGAAYABQABAAcAAAAFAAQABQABAAUAAAAFAAUABQABAAYAAAAFAAYABQABAAcAAAAEAAQABQABAAUAAAAEAAUABQABAAYAAAAEAAYABQABAAcAAAADAAQABQABAAUAAAADAAUABQABABAAAAADAAYABQABABEAAAACAAQABQABAAUAAAACAAUABQAAABAAAAACAAYABQAAABEAAAABAAQABQABAAUAAAABAAUABQABAAYAAAABAAYABQABAAcAAAAAAAQABQABAAUAAAAAAAUABQABAAYAAAAAAAYABQABAAcAAAD//wQABQABAAUAAAD//wUABQABAAYAAAD//wYABQABAAcAAAD+/wQABQABAAUAAAD+/wUABQABAAYAAAD+/wYABQABAAcAAAD9/wQABQABAAUAAAD9/wUABQABAAYAAAD9/wYABQABAAcAAAD8/wQABQABAAUAAAD8/wUABQABAAYAAAD8/wYABQABAAcAAAD7/wQABQABAAUAAAD7/wUABQABAAYAAAD7/wYABQABAAcAAAD6/wQABQABAAUAAAD6/wUABQABAAYAAAD6/wYABQABAAcAAAD5/wQABQABAAUAAAD5/wUABQABAAYAAAD5/wYABQABAAcAAAA=")

[node name="Carpet" type="Sprite2D" parent="."]
position = Vector2(48, -11)
rotation = 1.5707964
scale = Vector2(1.2, 1.2)
texture = ExtResource("2_n87ef")
region_enabled = true
region_rect = Rect2(0, 12, 48, 62)

[node name="Bed" type="Sprite2D" parent="."]
position = Vector2(50, -85)
scale = Vector2(1.2, 1.2)
texture = ExtResource("2_n87ef")
region_enabled = true
region_rect = Rect2(100.00376, 14.993141, 40.059563, 42.005905)
script = ExtResource("4_xi0mm")

[node name="StaticBody2D" type="StaticBody2D" parent="Bed"]

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Bed/StaticBody2D"]
position = Vector2(0, -13.333336)
shape = SubResource("RectangleShape2D_iqtyj")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bed/StaticBody2D"]
position = Vector2(0, 15.416664)
shape = SubResource("RectangleShape2D_iqtyj")

[node name="Bed" type="Sprite2D" parent="Bed"]
z_index = 1
position = Vector2(0, 5.8333335)
texture = ExtResource("2_n87ef")
region_enabled = true
region_rect = Rect2(104, 35, 32, 14)

[node name="Area2D" type="Area2D" parent="Bed"]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bed/Area2D"]
position = Vector2(0, -1.5258789e-05)
shape = SubResource("RectangleShape2D_xi0mm")

[node name="HUD" parent="Bed" instance=ExtResource("5_bu6dc")]

[node name="Shelf" type="Sprite2D" parent="."]
position = Vector2(-52.000004, -108.00001)
scale = Vector2(1.2, 1.2)
texture = ExtResource("2_n87ef")
region_enabled = true
region_rect = Rect2(50, 12, 44, 46)

[node name="Shelf2" type="Sprite2D" parent="."]
position = Vector2(146, -108)
scale = Vector2(1.2, 1.2)
texture = ExtResource("2_n87ef")
region_enabled = true
region_rect = Rect2(50, 12, 44, 46)

[node name="Player" parent="." instance=ExtResource("3_3jr7h")]
position = Vector2(13, -74)

[node name="Door" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 2

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Door"]
position = Vector2(47, -44)
polygon = PackedVector2Array(-10, 149, -8, 151, 7, 151, 10, 149, 10, 153, -10, 153)

[node name="Sleep" type="CanvasLayer" parent="."]
layer = 2

[node name="ColorRect" type="ColorRect" parent="Sleep"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0)

[node name="Night" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_lmwq5")
}

[node name="TimeCounter" parent="." instance=ExtResource("7_l3jqw")]
position = Vector2(102, -65)

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(224, -112, 221, 67, 214, 110, 55, 110, 55, 107, 205, 107, 205, 64, 205, -98, -109, -98, -110, 64, -110, 99.25597, -110, 107, 40, 107, 40, 110, -112, 110, -112, 107, -117, 64, -113, -123)

[connection signal="body_entered" from="Bed/Area2D" to="Bed" method="_on_area_2d_body_entered"]
[connection signal="body_exited" from="Bed/Area2D" to="Bed" method="_on_area_2d_body_exited"]
[connection signal="body_entered" from="Door" to="." method="_on_door_body_entered"]
